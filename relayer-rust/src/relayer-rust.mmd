Mind Map generated by NB MindMap plugin   
> __version__=`1.1`,showJumps=`true`
---

# relayer\-rust

## ckb \-\> muta

### ckb\-listener

### ckb\-handler

#### transform

##### in: ckb\_block
> fillColor=`#FFC800`


##### ckb\_block \-\> outputs: Vec\<CellOutput\>
> mmd.emoticon=`3d_glasses`


##### run the submit\_message first\!
> collapsed=`true`


###### mock tx
> mmd.emoticon=`3d_glasses`


###### fill the CkbMessage to mock tx
> mmd.emoticon=`3d_glasses`


###### send mock tx
> collapsed=`true`


####### \[ProtocolError\] Kind: Mempool Error: Timeout 
> collapsed=`true`,fillColor=`#FF0E00`,mmd.emoticon=`3d_glasses`


######## get the latest height before sendTransaction
> fillColor=`#FF0E00`


##### generate Transaction 

###### ckbMessage

###### service payload

##### out: muta::Transaction
> fillColor=`#FFC800`


## muta \-\> ckb
> leftSide=`true`


### muta\-listener

### muta\-handler
> leftSide=`true`


#### in: muta::BlockHookReceipt
> fillColor=`#FFC800`


#### run the mock tx
> leftSide=`true`


##### get\_live\_cells\_by\_lock\_hash\(\)

###### lock\_hash

####### gen\_lockscript

######## code\_hash
> mmd.emoticon=`3d_glasses`


######### referenece to my\-sudt
> mmd.emoticon=`emotion_cry`


######### reference to ckb\-sdk
> mmd.emoticon=`emotion_cry`


######### ckb\_sdk::constants

######## hash\_type
> leftSide=`true`


######### "data"

######## args
> leftSide=`true`,mmd.emoticon=`3d_glasses`


######### blake2b\( pubkey \)

####### gen\_lock\_hash
> mmd.emoticon=`3d_glasses`


###### live\_cells \-\> inputs
> leftSide=`true`


####### ckb\-tools
> mmd.emoticon=`emotion_cry`


####### uniform version number of ckb between muta and ckb\-sdk
> mmd.emoticon=`3d_glasses`


####### ckb\-indexer by quake
> mmd.emoticon=`3d_glasses`


###### output\_data
> leftSide=`true`


####### ckb\-contracts\-rust
> mmd.emoticon=`3d_glasses`


###### outputs
> leftSide=`true`


####### build by myself
> fillColor=`#00FFFF`


###### celldeps
> leftSide=`true`


####### Secp256Dep
> fillColor=`#FF0E00`,mmd.emoticon=`3d_glasses`


####### other deps
> mmd.emoticon=`3d_glasses`


######## lockscript dep

######## typescript dep

######## sudt dep

###### script loaded from config\.json
> leftSide=`true`,mmd.emoticon=`3d_glasses`


#### crosschain\-v2
> fillColor=`#FF3900`,mmd.emoticon=`3d_glasses`


##### lockscript not changed
> fillColor=`#FF3900`


##### typescript 
> fillColor=`#FF3900`,leftSide=`true`


#### sign\_tx
> leftSide=`true`


#### multisign\_tx
> leftSide=`true`


#### out: Vec\<packed::Transaction\>
> fillColor=`#FFC800`,leftSide=`true`


## place holder \-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-
> leftSide=`true`

